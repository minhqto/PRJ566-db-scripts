# PRJ566 Winter 2021

## Pawsitive

## Group 9

### Group Members:

- Artur Montesano Felix
- Jihyun Lee
- Minh To
- Viet Nguyen

# Scripts for creation, deletion and populating data

ERD: Viet & Minh

Tables:
Artur

- dog (this tables requires a function to return the role ID from the user table. This is used for a CHECK constraint in the dog table to ensure that only users a client roleID can add a dog)
- user
- role

Jihyun

- service (this table needs to check that the user ID's role ID is a valid specialist role ID)
- serviceType
- booking

Minh

- bookingStatus
- Review (This table needs to check that the client ID and the specialist ID do not match, and check that the roleID of client is valid, and check that roleID of specialist is valid)
- BookingMessage

## Creation - Minh

```


```

```
    CREATE TABLE dog (
        dog_id NUMBER GENERATED BY DEFAULT AS IDENTITY,
        user_id NUMBER NOT NULL
        dog_name VARCHAR(30) NOT NULL,
        dog_age NUMBER NOT NULL,
        dog_breed VARCHAR(30) NOT NULL,
        PRIMARY KEY(dog_id),
        FOREIGN KEY(user_id) REFERENCE users(user_id)
        ON DELETE CASCADE
    );
    
    CREATE TABLE user(

    );

    CREATE TABLE user (


    )


```

## Jihyun
## 1. CREATE

## serviceType
```
CREATE TABLE SERVICETYPE (
    service_type_id NUMBER(2),
    service_type_name VARCHAR(30) NOT NULL,
    CONSTRAINT servicetype_pk PRIMARY KEY(service_type_id)
);

CREATE TABLE SERVICE (
    service_id NUMBER GENERATED BY DEFAULT AS IDENTITY,
    service_name VARCHAR(30) NOT NULL,
    service_price NUMBER(5, 2) NOT NULL,
    service_description VARCHAR(300),
    service_type_id NUMBER NOT NULL,
    CONSTRAINT service_fk FOREIGN KEY(service_type_id) REFERENCES serviceType(service_type_id) ON DELETE CASCADE
);

CREATE TABLE BOOKING (
    booking_id NUMBER GENERATED BY DEFAULT AS IDENTITY,
    client_id NUMBER(5) NOT NULL,
    specialist_id NUMBER(3, 2) NOT NULL,
    booking_date DATE NOT NULL,
    booking_time NUMBER(4) NOT NULL,
    status_id NUMBER(5) NOT NULL,
    total_cost NUMBER(5) NOT NULL,
    CONSTRAINT booking_client_fk FOREIGN KEY(client_id) REFERENCES client(client_id) ON DELETE SET NULL,
    CONSTRAINT specialist_id FOREIGN KEY(specialist_id) REFERENCES specialist(cspecialist_id) ON DELETE SET NULL
);
```

## 2. deletion
```
DROP TABLE SERVICE;
DROP TABLE SERVICETYPE;
## should locate before Client & Specialist
DROP TABLE BOOKING;
```


## 3. Population
